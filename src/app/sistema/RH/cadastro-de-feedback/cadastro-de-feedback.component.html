<div class="main-container">
    <div class="back-title">
        <img src="assets/icones/arrow-left.svg" alt="Back" class="back-icon" (click)="goBack()">
        <span>{{ isEditMode ? 'Editar feedback' : 'Cadastrar feedback' }}</span>
    </div>
  
    <div class="forms-container">
        <form (ngSubmit)="onSubmit()" [formGroup]="feedbackForm">
            <div class="form-group">
                <label for="lojaId">Loja</label>
                <app-select-padrao
                  label="Selecione uma loja"
                  [options]="lojas"
                  [(selectedValue)]="selectedLoja"
                  formControlName="lojaId"
                  (selectedValueChange)="onLojaSelecionada($event)">
                </app-select-padrao>
            </div>

            <div class="form-group">
                <label for="usuarioId">Colaborador</label>
                <app-select-padrao
                  label="Selecione um colaborador"
                  [options]="colaboradoresDaLoja"
                  [(selectedValue)]="feedbackForm.value.usuarioId"
                  formControlName="usuarioId"
                  [disabled]="colaboradorSelectDisabled">
                </app-select-padrao>
            </div>

            <div class="form-group">
                <label for="data">Data</label>
                <input type="date" id="data" name="data" formControlName="data" class="form-control">
            </div>

            <div class="form-group">
                <label>Classificação</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="statusPositivo" name="classificacao" value="POSITIVO" formControlName="classificacao" checked>
                        <label for="statusPositivo">Positivo</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="statusNeutro" name="classificacao" value="NEUTRO" formControlName="classificacao">
                        <label for="statusNeutro">Neutro</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="statusNegativo" name="classificacao" value="NEGATIVO" formControlName="classificacao">
                        <label for="statusNegativo">Negativo</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="tipo">Tipo</label>
                <input type="text" id="tipo" name="tipo" formControlName="tipo" class="form-control" placeholder="Digite o tipo do feedback">
            </div>

            <div class="form-group">
                <label for="comentario">Comentário</label>
                <textarea type="text" id="comentario" name="comentario" formControlName="comentario" class="form-control" placeholder="Informe seu comentário ou orientação para este colaborador..." rows="3"></textarea>
            </div>

            <div class="container-btn">
                <button type="submit" class="btn-cadastrar">
                    {{ isEditMode ? 'Atualizar feedback' : 'Cadastrar feedback' }}
                </button>
            </div>
        </form>
    </div>

     <app-loading *ngIf="isLoading"></app-loading>

    <div class="alerts">
        <div class="alerts-container alert-success" *ngIf="successMessage">
          {{ successMessage }}
        </div>
        <div class=" alerts-container alert-danger" *ngIf="errorMessage">
            {{ errorMessage }}
        </div>
    </div>
</div>